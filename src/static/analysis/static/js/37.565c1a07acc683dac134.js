webpackJsonp([37],{"+nQ6":function(t,e,i){"use strict";i("vwbq");e.a={methods:{addLabels:function(){var t=this,e=this.svg.append("g").attr("class","labels labels-"+this.ID),i=["translate(10, "+(this.height+this.margin.top+this.margin.bottom)/2+") rotate(-90)","translate(25, "+(this.height+this.margin.top)/2+") rotate(-90)"],n=["translate("+this.width/2+", "+(this.height+2.75*this.margin.top)+")","translate("+(this.width+this.margin.left+this.margin.right)/2+", "+(this.height+3.25*this.margin.top)+")"];e.call(function(e){for(var r=function(r){var s=e.append(t.isMathJax?"foreignObject":"text").attr("height",100).attr("width",200).attr("id",r%2?"yLabel-"+t.ID:"xLabel-"+t.ID).attr("transform",function(){return t.isMathJax?r%2?i[0]:n[0]:r%2?i[1]:n[1]});t.isMathJax?(s.html(r%2?"`"+t.label.y+"`":"`"+t.label.x+"`"),MathJax.Hub.Queue(["Typeset",MathJax.Hub,["xLabel-"+t.ID,"yLabel-"+t.ID]])):s.text(r%2?t.label.y:t.label.x)},s=0;s<2;s+=1)r(s)})},updateLabels:function(){var t=this.svg.select("#xLabel-"+this.ID),e=this.svg.select("#yLabel-"+this.ID);this.isMathJax?(t.html("`"+this.label.x+"`"),e.html("`"+this.label.y+"`"),MathJax.Hub.Queue(["Typeset",MathJax.Hub,["xLabel-"+this.ID,"yLabel-"+this.ID]])):(t.text(this.label.x),e.text(this.label.y))}}}},"/ojw":function(t,e,i){"use strict";var n=i("fZjL"),r=i.n(n),s=i("vwbq");e.a={data:function(){return{width:960,height:600,viewBox:"0 0 960 600",defaultMargin:{top:20,right:50,bottom:50,left:100},isLegend:!0,isScatterLines:!0,isErrorBars:!0,isScatterPoints:!0}},computed:{margin:function(){return this.defaultMargin},xScale:function(){return this.plotScale.x.value.range([0,this.width]).domain(this.xExtent).nice()},yScale:function(){return this.plotScale.y.value.range([this.height,0]).domain(this.yExtent).nice()},yType:function(){return this.plotScale.y.label},xType:function(){return this.plotScale.x.label},colorScale:function(){return s.m(s.n).domain(this.plotData.map(function(t){return t.key}))},isMetadata:function(){return!(void 0===this.metadata)},metadataLength:function(){return this.isMetadata?null===this.metadata?0:r()(this.metadata).length:0},xAxis:function(){return s.o(this.xScale)},yAxis:function(){return s.p(this.yScale)},xGrid:function(){return s.o(this.xScale).ticks(10).tickSize(-this.height).tickFormat("")},yGrid:function(){return s.p(this.yScale).ticks(10).tickSize(-this.width).tickFormat("")},xExtent:function(){return this.getExtent(this.fields.x)},yExtent:function(){return this.getExtent(this.fields.y)},line:function(){var t=this;return s.q().defined(this.filterForLog).x(function(e){return t.xScale(e[t.fields.x])}).y(function(e){return t.yScale(e[t.fields.y])})}}}},"0rlU":function(t,e,i){"use strict";var n=i("aCc6"),r=i("twOP"),s=i("Bz57"),a=i("4P3Y"),o=i("/ojw");e.a={name:"Chart",props:{ID:{type:String,required:!0}},mixins:[r.a,s.a,a.a,o.a],components:{"v-reset-chart-button":function(){return i.e(32).then(i.bind(null,"ckRN"))},"v-plotted-data-table":function(){return i.e(30).then(i.bind(null,"TgbJ"))},"v-delete-point-modal":function(){return i.e(34).then(i.bind(null,"s3zY"))},"v-toggle-plot-elements":function(){return i.e(33).then(i.bind(null,"a1DP"))}},data:function(){return{svg:void 0,g:void 0,drawerRight:!1,showTabs:!0,sliderMargin:{top:50,right:50,bottom:130,left:100},sliderHeight:25,showPicker:!1,pickerPoints:[0,0]}},computed:{showToggleTabs:function(){return!(void 0===this.fileToFit||!this.fileToFit)||this.metadataLength>0},plottedData:function(){return this.preparedData.map(function(t){return t.values}).reduce(function(t,e){return t.concat(e)},[])},margin:function(){return this.fileToFit?this.sliderMargin:this.defaultMargin},plotData:function(){return this.chartConfigurations.data}},methods:{selectPickerPoints:function(t){this.showPicker=!1,this.togglePickArea(!1),n.a.$emit("update-initial-value-pick-"+this.$route.meta.group,t)},togglePickArea:function(t){this.svg.select(".pick-area").style("visibility",t?"visible":"hidden"),this.svg.select(".tooltip").style("opacity",t?1:0),this.svg.select(".brush").style("pointer-events",t?"none":"all"),t||(this.pickerPoints=[0,0])},redrawChart:function(){0===this.filesSelected.length||this.fileToFit!==this.previousFit?(this.showTabs=!0,this.removeChart(),this.getContainerWidth("#fit-chart-wrapper-"+this.ID),this.drawChart()):this.drawChart()}},mounted:function(){n.a.$on("toggle-pick-area-"+this.$route.meta.group,this.togglePickArea),this.getContainerWidth("#fit-chart-wrapper-"+this.ID),this.drawChart()},destroyed:function(){n.a.$off("toggle-pick-area-"+this.$route.meta.group)}}},"4M6A":function(t,e,i){"use strict";var n=i("vwbq");e.a={methods:{initChartElements:function(t){this.svg=n.C(t).attr("viewBox",this.viewBox).attr("perserveAspectRatio","xMidYMid meet").attr("width","100%"),this.addLabels(),this.addClipPath(),this.svg.append("defs").append("clipPath").attr("id","clip-"+this.ID).append("rect").style("fill","none").attr("width",this.width).attr("height",this.height),this.g=this.svg.append("g").attr("class","chart-group").attr("transform","translate("+this.margin.left+", "+this.margin.top+")"),this.g.append("rect").attr("class","chart-bg").attr("height",this.height).attr("width",this.width).style("fill","white");var e=this.g.append("g").attr("class","grid");e.append("g").attr("class","grid--x").attr("transform","translate(0, "+this.height+")").call(this.xGrid),e.append("g").attr("class","grid--y").call(this.yGrid);var i=this.g.append("g").attr("class","axis");i.append("g").attr("class","axis--x").attr("transform","translate(0, "+this.height+")").call(this.xAxis),i.append("g").attr("class","axis--y").call(this.yAxis),this.addZoomGroup(),this.g.select(".zoom").call(this.zoom),this.g.select("#zoom-group-"+this.ID).append("g").attr("class","brushes").attr("height",this.height).attr("width",this.width).attr("fill","none")}}}},"4P3Y":function(t,e,i){"use strict";e.a={data:function(){return{defaultPlotElementStatus:null}},methods:{togglePlotElement:function(t){switch(null===this.defaultPlotElementStatus&&this.setDefaultPlotElementStatus(),t){case"scatterPoint":this.isScatterPoints=!this.isScatterPoints;break;case"scatterLine":this.isScatterLines=!this.isScatterLines;break;case"legend":this.isLegend=!this.isLegend;break;case"errorBar":default:this.isErrorBars=!this.isErrorBars}this.redrawChart()},setDefaultPlotElementStatus:function(){this.defaultPlotElementStatus={isErrorBars:this.isErrorBars,isScatterLines:this.isScatterLines,isScatterPoints:this.isScatterPoints,isLegend:this.isLegend}},resetDefaultPlotElementStatus:function(){this.isErrorBars=this.defaultPlotElementStatus.isErrorBars,this.isLegend=this.defaultPlotElementStatus.isLegend,this.isScatterLines=this.defaultPlotElementStatus.isScatterLines,this.isScatterPoints=this.defaultPlotElementStatus.isScatterPoints,this.defaultPlotElementStatus=null}},watch:{plotData:function(t){t.length||null===this.defaultPlotElementStatus||this.resetDefaultPlotElementStatus()}}}},"7ZQE":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("iSB5"),r=i("VU/8")(n.a,null,!1,null,null,null);e.default=r.exports},"8AfG":function(t,e,i){var n=i("PmcA");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("ebd1d922",n,!0,{})},"9bBU":function(t,e,i){i("mClu");var n=i("FeBl").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},Bz57:function(t,e,i){"use strict";var n=i("Dd8w"),r=i.n(n),s=i("aCc6");e.a={data:function(){return{showDeleteModal:!1,pointToDelete:null}},methods:{triggerDelete:function(t){this.pointToDelete=r()({},t),this.showDeleteModal=!0},confirmDeletePoint:function(){var t=this,e=this.$route.meta.group,i=this.$route.meta.feature;this.deletePoint(r()({},this.pointToDelete,{group:e})).then(function(){t.resetDeletePoint(),s.a.$emit("add-notification","Point deleted!","success"),s.a.$emit("redraw-chart-"+e.toLowerCase()+"-"+i.toLowerCase())}).catch(function(e){t.resetDeletePoint(),s.a.$emit("add-notification",e,"error")})},resetDeletePoint:function(){this.showDeleteModal=!1,this.pointToDelete=null}}}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},IVWU:function(t,e,i){"use strict";var n=i("0rlU"),r=i("fze9");var s=function(t){i("8AfG")},a=i("VU/8")(n.a,r.a,!1,s,null,null);e.a=a.exports},PUFd:function(t,e,i){"use strict";e.a=function(t,e,i){var n=t,r=e,s=i;if(void 0===i&&(s=Math.max(Math.round(r-n)+1,1)),s<2)return 1===i?[n]:[];for(var a=Array(s),o=s-=1;o>=0;o-=1)a[o]=(o*r+(s-o)*n)/s;return a}},PmcA:function(t,e,i){(e=t.exports=i("FZ+f")(!0)).i(i("k5bq"),""),e.push([t.i,".modal-picker{position:absolute;z-index:999999;left:0;top:0;right:0;bottom:0;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}","",{version:3,sources:["/home/rhf/git/plotfit-vuetify/src/components/FitData/FitChart/DefaultChart.vue"],names:[],mappings:"AAIA,cACE,kBAAmB,AAEnB,eAAgB,AAEhB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,SAAU,AACV,cAAe,AAEf,sBAAwB,AAExB,+BAAqC,CAEtC",file:"DefaultChart.vue",sourcesContent:['\n@import url("../../../assets/css/plotStyles.scss");\n/* Modal Picker Styles */\n/* The Modal (background) */\n.modal-picker {\n  position: absolute;\n  /* Stay in place */\n  z-index: 999999;\n  /* Sit on top */\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n  /* Enable scroll if needed */\n  background-color: black;\n  /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4);\n  /* Black w/ opacity */\n}\n'],sourceRoot:""}])},Qg8S:function(t,e,i){"use strict";var n=i("mvHQ"),r=i.n(n),s=i("Gu7T"),a=i.n(s),o=i("vwbq"),l=i("M4fF"),c=i.n(l),h=i("aCc6"),u=i("jjMM"),d=new(i("iLgF"));d.postMessage("Starting"),e.a={mixins:[u.a],data:function(){return{brushTransformation:null,brushFit:null,prevFit:null,selLimits:null}},computed:{sliderScale:function(){return this.plotScale.x.value.copy().range([0,this.width]).domain(this.xExtent).nice()},sliderXAxis:function(){return o.o(this.sliderScale)},brush:function(){return o.F().extent([[0,0],[this.width,this.sliderHeight]])},brushSelection:function(){return this.$store.state[this.$route.meta.group].Fit.brushSelection},dataToFit:function(){return this.$store.getters[this.$route.meta.group+"/Fit/dataToFit"]},transformations:function(){return this.$store.state[this.$route.meta.group].Fit.transformations},fitType:function(){return this.$store.state[this.$route.meta.group].Fit.fitType}},methods:{initSlider:function(){var t=this.svg.append("g").attr("class","slider").attr("transform","translate("+this.margin.left+", "+(this.height+1.75*this.margin.top)+")");t.append("g").attr("class","slider-lines"),t.append("g").attr("class","brush"),t.append("g").attr("class","axis slider-axis--x").attr("transform","translate(0, "+this.sliderHeight+")"),this.initFitLine()},updateSlider:function(){var t=this,e=this.dataToFit.filter(this.filterForLog);this.svg.select(".slider").select(".slider-axis--x").transition().duration(750).call(this.sliderXAxis);var i=this.sliderScale.copy(),n=this.svg.select(".slider-lines").selectAll("line").data(e);n.exit().remove(),n.transition().duration(750).attr("x1",function(e){return i(e[t.fields.x])}).attr("y1",this.sliderHeight).attr("x2",function(e){return i(e[t.fields.x])}).attr("y2",0),n.enter().append("line").attr("x1",function(e){return i(e[t.fields.x])}).attr("y1",this.sliderHeight).attr("x2",function(e){return i(e[t.fields.x])}).attr("y2",0).style("stroke","slategray"),this.brush.on("end",this.brushed);var r=o.d(e,function(e){return e[t.fields.x]});0!==this.brushSelection.length&&c.a.isEqual(r,this.prevExtent)&&this.fileToFit===this.previousFit&&this.brushTransformation===this.transformations.x?this.brushFit!==this.fitType?(this.$store.dispatch(this.$route.meta.group+"/Fit/setBrushLimits",{limits:r,scale:i}),this.brushFit=this.fitType):this.$store.dispatch(this.$route.meta.group+"/Fit/setBrushLimits",{limits:this.selLimits,scale:i}):(this.$store.dispatch(this.$route.meta.group+"/Fit/setBrushLimits",{limits:r,scale:i}),this.prevExtent=r,this.brushFit=this.fitType,this.brushTransformation=this.transformations.x),this.svg.select(".brush").call(this.brush).call(this.brush.move,this.brushSelection)},brushed:function(){var t=this;this.$store.dispatch(this.$route.meta.group+"/Fit/setBrushSelection",o.D.selection);var e=this.dataToFit.filter(this.filterForLog),i=o.D.selection.map(this.sliderScale.invert,this.sliderScale),n=e.filter(function(e){return i[0]<=e[t.fields.x]&&e[t.fields.x]<=i[1]});this.$store.dispatch(this.$route.meta.group+"/Fit/setFilteredData",c.a.cloneDeep(n));var r=o.d(n,function(e){return e[t.fields.x]}),s=this.sliderScale.copy();if(this.selLimits=[].concat(a()(r)),this.$store.dispatch(this.$route.meta.group+"/Fit/setBrushLimits",{limits:r,scale:s}),null!==this.brushSelection&&n.length>1)this.svg.select(".slider-lines").selectAll("line").style("stroke",function(e){return i[0]<=e[t.fields.x]&&e[t.fields.x]<=i[1]?t.colorScale(e.name):"slategray"}),this.fitData(n);else{h.a.$emit("add-notification","Not enough data selected, please select 2 or more points. If plot is blank, no data is available for generating a fit line.","error")}},fitData:function(t){var e=this,i={data:t,equation:this.fitEquation,initialValues:this.fitInitialValues,fitSettings:this.fitSettings,fields:this.fields};this.toggleIsFitting(!0),this.addLoader(),d.postMessage(r()(i)),d.onmessage=function(t){e.updateFitDataResults(JSON.parse(t.data)).then(function(){if(e.fittedData.length<=0){h.a.$emit("add-notification","Error! Fitted y-values < 0, thus no fit-line to display.","error")}else e.updateFitLine();e.toggleIsFitting(!1)}).catch(function(t){h.a.$emit("add-notification",t.message,"error")})},d.onerror=function(t){h.a.$emit("add-notification",t.data,"danger")}},addLoader:function(){var t=this,e=this.g.append("g").attr("class","loader");e.append("rect").attr("class","loading-bg").attr("height",this.height).attr("width",this.width).style("fill","rgba(0, 0, 0, 0.5)");var i=e.append("text").attr("class","loading-text").style("fill","white").attr("x",this.width/3).attr("y",this.height/2).style("font-size","32px").style("font-weight","bold").style("font-family","Trebuchet MS, Helvetica, sans-serif").text("Fitting..."),n=0,r=o.G(function(){i.text("Fitting"+".".repeat(n%3+1)),t.isFitting||(r.stop(),e.transition().duration(300).style("opacity",0).remove()),n+=1},300)}}}},U3GD:function(t,e,i){"use strict";e.a={methods:{addClipPath:function(){this.svg.append("defs").append("clipPath").attr("id","clip-"+this.ID).append("rect").style("fill","none").attr("width",this.width).attr("height",this.height)}}}},"WTh+":function(t,e,i){"use strict";e.a={methods:{filterForLog:function(t){return"log(y)"===this.yType&&"log(x)"===this.xType?t[this.fields.y]>0&&t[this.fields.x]>0:"log(x)"===this.xType?t[this.fields.x]>0:"log(y)"===this.yType?t[this.fields.y]>0:t}}}},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("C4MV"),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bTxB:function(t,e,i){"use strict";var n=i("d7EF"),r=i.n(n),s=i("vwbq"),a=i("M4fF"),o=i.n(a),l=i("t6yi");e.a={data:function(){return{symbols:{circle:s.v().type(s.w).size(45),triangle:s.v().type(s.x).size(45),cross:s.v().type(s.y).size(45),diamond:s.v().type(s.z).size(45),square:s.v().type(s.A).size(45),wye:s.v().type(s.B).size(45)}}},methods:{updateChartElements:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,n=this,a=s.t().duration(e),c=this.rescaleToZoom(),h=r()(c,2),u=h[0],d=h[1],f=s.q().defined(this.filterForLog).x(function(t){return u(t[n.fields.x])}).y(function(t){return d(t[n.fields.y])});if(this.updateAxes(u,d,a),this.updateGrids(u,d,a),this.updateLabels(),this.isLegend)if(void 0!==this.fileToFit&&null!==this.fileToFit){var p=this.plotData.concat([{key:"fit",values:[]}]);this.legend(p)}else this.legend(this.plotData);else this.g.selectAll(".legend").remove();var g=o.a.cloneDeep(this.plotData);g.forEach(function(e){e.values=e.values.filter(t.filterForLog)});var m=this.g.selectAll(".group").data(g);if(m.exit().remove(),m=m.enter().append("g").attr("clip-path","url(#clip-"+this.ID+")").merge(m).attr("class",function(t){return"group "+t.key}),this.isScatterLines){var x=m.selectAll("path.scatter-line").data(function(t){return[t]});x.exit().remove(),x.enter().append("path").attr("class",function(t){return"scatter-line "+t.key}).style("fill","none").style("stroke",function(e){return t.getColor(e.key)}).style("stroke-width","1.5px").attr("d",function(t){return f(t.values)}),x.transition(a).attr("class",function(t){return"scatter-line "+t.key}).attr("d",function(t){return f(t.values)}).style("stroke-width","1.5px").style("stroke",function(e){return t.getColor(e.key)})}else m.selectAll("path.scatter-line").remove();if(this.isErrorBars){var v=m.selectAll(".error-line").data(function(t){return t.values});v.exit().remove(),v.enter().append("line").attr("class","error-line").attr("x1",function(t){return u(t[n.fields.x])}).attr("y1",function(t){return d(t[n.fields.y]+t.error)}).attr("x2",function(t){return u(t[n.fields.x])}).attr("y2",function(e){return t.errorBottomY(e,d)}).style("stroke",function(e){return t.getColor(e.name)}),v.style("stroke",function(e){return t.getColor(e.name)}).transition(a).attr("x1",function(t){return u(t[n.fields.x])}).attr("y1",function(t){return d(t[n.fields.y]+t.error)}).attr("x2",function(t){return u(t[n.fields.x])}).attr("y2",function(e){return t.errorBottomY(e,d)}),(v=m.selectAll(".error-cap-top").data(function(t){return t.values})).exit().remove(),v.enter().append("line").attr("class","error-cap-top").attr("x1",function(t){return u(t[n.fields.x])+4}).attr("y1",function(t){return d(t[n.fields.y]+t.error)}).attr("x2",function(t){return u(t[n.fields.x])-4}).attr("y2",function(t){return d(t[n.fields.y]+t.error)}).style("stroke",function(e){return t.getColor(e.name)}),v.style("stroke",function(e){return t.getColor(e.name)}).transition(a).attr("x1",function(t){return u(t[n.fields.x])+4}).attr("y1",function(t){return d(t[n.fields.y]+t.error)}).attr("x2",function(t){return u(t[n.fields.x])-4}).attr("y2",function(t){return d(t[n.fields.y]+t.error)}),(v=m.selectAll(".error-cap-bottom").data(function(t){return t.values})).exit().remove(),v.enter().append("line").attr("class","error-cap-bottom").attr("x1",function(t){return u(t[n.fields.x])+4}).attr("y1",function(e){return t.errorBottomY(e,d)}).attr("x2",function(t){return u(t[n.fields.x])-4}).attr("y2",function(e){return t.errorBottomY(e,d)}).style("stroke",function(e){return t.getColor(e.name)}),v.style("stroke",function(e){return t.getColor(e.name)}).transition(a).attr("x1",function(t){return u(t[n.fields.x])+4}).attr("y1",function(e){return t.errorBottomY(e,d)}).attr("x2",function(t){return u(t[n.fields.x])-4}).attr("y2",function(e){return t.errorBottomY(e,d)})}else m.selectAll(".error-line").remove(),m.selectAll(".error-cap-top").remove(),m.selectAll(".error-cap-bottom").remove();if(this.isScatterPoints){var A=m.selectAll("path.point").data(function(t){return t.values});A.exit().remove(),A.enter().append("path").attr("class","point").style("fill",function(e){return t.getColor(e.name)}).style("stroke","whitesmoke").attr("d",function(t){var e=n.getShape(t.name);return n.symbols[e](t)}).attr("transform",function(t){return"translate( "+u(t[n.fields.x])+", "+d(t[n.fields.y])+")"}).on("mouseover",function(t){var e=n.getShape(t.name);s.C(this).style("cursor","pointer"),s.C(this).transition().attr("d",n.symbols[e].size(125));var r=u.domain().map(function(t){return Math.abs(t)});r=(r[1]-r[0])/2;var a=Math.abs(t[n.fields.x])>r?s.D.pageX-175:s.D.pageX+25,o="\n              <p>(Click to delete)</p>\n              <p>"+n.fields.x+": "+t[n.fields.x].toExponential(2)+"</p>\n              <p>"+n.fields.y+": "+t[n.fields.y].toExponential(2)+"</p>\n              <p>error: ± "+t.error.toExponential(2)+"</p>";i.i(l.a)(a,s.D.pageY,o)}).on("mouseout",function(t){var e=n.getShape(t.name);s.C(this).transition().attr("d",n.symbols[e].size(45)),s.C(".plot-tooltip").remove()}).on("click",function(e){t.triggerDelete(e)}),A.transition(a).attr("d",function(t){var e=n.getShape(t.name);return n.symbols[e](t)}).style("fill",function(e){return t.getColor(e.name)}).style("stroke","whitesmoke").attr("transform",function(t){return"translate( "+u(t[n.fields.x])+", "+d(t[n.fields.y])+")"})}else m.selectAll("path.point").remove()},errorBottomY:function(t,e){return t[this.fields.y]-t.error<=0&&"log(y)"===this.yType?e(t[this.fields.y]):e(t[this.fields.y]-t.error)},getColor:function(t){return void 0===t||"combine"===t||"stitch"===t?"brown":this.colorScale(t)},getShape:function(t){return"combine"===t||"fit"===t||"stitch"===t?"cross":"circle"}}}},boKd:function(t,e,i){"use strict";var n=i("d7EF"),r=i.n(n),s=i("vwbq");e.a={computed:{zoom:function(){return s.s().on("zoom",this.zoomed)}},methods:{zoomed:function(){var t=this,e=this.rescaleToZoom(),i=r()(e,2),n=i[0],a=i[1],o=s.q().defined(this.filterForLog).x(function(e){return n(e[t.fields.x])}).y(function(e){return a(e[t.fields.y])}),l=s.t().duration(0);this.updateAxes(n,a,l),this.updateGrids(n,a,l),this.isErrorBars&&(this.g.selectAll(".error-line").attr("x1",function(e){return n(e[t.fields.x])}).attr("y1",function(e){return a(e[t.fields.y]+e.error)}).attr("x2",function(e){return n(e[t.fields.x])}).attr("y2",function(e){return t.errorBottomY(e,a)}),this.g.selectAll(".error-cap-top").attr("x1",function(e){return n(e[t.fields.x])+4}).attr("y1",function(e){return a(e[t.fields.y]+e.error)}).attr("x2",function(e){return n(e[t.fields.x])-4}).attr("y2",function(e){return a(e[t.fields.y]+e.error)}),this.g.selectAll(".error-cap-bottom").attr("x1",function(e){return n(e[t.fields.x])+4}).attr("y1",function(e){return t.errorBottomY(e,a)}).attr("x2",function(e){return n(e[t.fields.x])-4}).attr("y2",function(e){return t.errorBottomY(e,a)})),this.isScatterPoints&&this.g.selectAll(".point").attr("transform",function(e){return"translate( "+n(e[t.fields.x])+", "+a(e[t.fields.y])+")"}),this.isScatterLines&&this.g.selectAll(".scatter-line").attr("d",function(t){return o(t.values)}),this.fileToFit&&this.g.select(".fitted-line").attr("d",o),"Stitch"===this.$route.feature&&(this.updateBrushScale(),this.reconvertBrushSelections())},rescaleToZoom:function(){var t=s.u(this.g.select(".zoom").node());return[t.rescaleX(this.xScale),t.rescaleY(this.yScale)]}}}},fze9:function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","pa-0":""}},[i("v-flex",{attrs:{xs12:""}},[i("v-tabs",[i("v-tabs-bar",[i("v-tabs-item",{attrs:{href:"#plot",ripple:""}},[t._v("\n            Plot\n          ")]),t._v(" "),i("v-tabs-item",{attrs:{href:"#data-table",ripple:""}},[t._v("\n            Data Table\n          ")]),t._v(" "),i("v-tabs-slider",{attrs:{color:"accent"}})],1),t._v(" "),i("v-tabs-items",[i("v-tabs-content",{attrs:{id:"plot"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",id:"fit-chart-wrapper-"+t.ID,"text-xs-center":"","mb-3":""}},[i("svg",{class:"chart fit-chart fit-chart-"+t.ID})]),t._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-toolbar",{attrs:{height:"auto",flat:""}},[i("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[i("v-layout",{staticClass:"pa-0",attrs:{row:"",wrap:""}},[i("v-reset-chart-button",{attrs:{disable:0===t.filesSelected.length},on:{"reset-chart":t.resetChart}}),t._v(" "),i("v-edit-chart-button",{attrs:{disable:0===t.filesSelected.length}}),t._v(" "),i("v-toggle-plot-elements",{attrs:{disable:0===t.plotData.length,"is-scatter-points":t.isScatterPoints,"is-scatter-lines":t.isScatterLines,"is-error-bars":t.isErrorBars,"is-legend":t.isLegend},on:{"toggle-plot-element":t.togglePlotElement}}),t._v(" "),i("v-spacer"),t._v(" "),t.showToggleTabs?i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(e){t.showTabs=!t.showTabs}}},[i("v-icon",{attrs:{small:""}},[t._v(t._s(t.showTabs?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1)],1)],1)],1),t._v(" "),"SANS-Fit"===t.ID?t._t("tabs-slot",null,{showTabs:t.showTabs,fileToFit:t.fileToFit,fittedData:t.fittedData,xScale:t.xScale,activeParentTab:t.activeParentTab}):t._e(),t._v(" "),"TAS-Fit"===t.ID?t._t("tabs-slot",null,{showTabs:t.showTabs,fileToFit:t.fileToFit,fittedData:t.fittedData,xScale:t.xScale,activeParentTab:t.activeParentTab,metadata:t.metadata,metadataLength:t.metadataLength}):t._e(),t._v(" "),"POWDER-Fit"===t.ID?t._t("tabs-slot",null,{showTabs:t.showTabs,xScale:t.xScale,activeParentTab:t.activeParentTab,metadata:t.metadata,metadataLength:t.metadataLength}):t._e()],2)],1),t._v(" "),i("v-tabs-content",{attrs:{id:"data-table"}},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("v-plotted-data-table",{attrs:{"plotted-data":t.plottedData,files:t.filesSelected}})],1)],1)],1)],1)],1)],1),t._v(" "),i("v-slide-y-transition",[t.showPicker?i("v-flex",{class:"modal-picker modal-picker-"+t.ID,attrs:{xs12:""}},[i("v-flex",{attrs:{xs4:"","offset-xs4":""}},[i("v-card",{staticClass:"mt-5 text-xs-center"},[i("v-card-title",{staticClass:"primary pl-3 pt-1 pb-1 pr-0 white--text"},[i("div",{staticClass:"headline"},[t._v("Select Initial Value")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"error white--text",attrs:{icon:"",flat:"",small:"",dark:""},on:{click:function(e){t.showPicker=!1}}},[i("v-icon",[t._v("close")])],1)],1),t._v(" "),i("v-card-text",[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-btn",{attrs:{flat:"",outline:""},on:{click:function(e){t.selectPickerPoints(t.pickerPoints[0])}}},[t._v("\n                  Select X: "),i("span",{class:"pl-2"},[t._v(t._s(t.pickerPoints[0].toFixed(2)))])])],1),t._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-btn",{attrs:{flat:"",outline:""},on:{click:function(e){t.selectPickerPoints(t.pickerPoints[1])}}},[t._v("\n                  Select Y: "),i("span",{class:"pl-2"},[t._v(t._s(t.pickerPoints[1].toFixed(2)))])])],1)],1)],1)],1)],1)],1):t._e()],1),t._v(" "),i("v-slide-y-transition",[i("v-delete-point-modal",{attrs:{show:t.showDeleteModal},on:{cancel:t.resetDeletePoint,delete:t.confirmDeletePoint}})],1)],1)},staticRenderFns:[]};e.a=n},g0At:function(t,e,i){"use strict";e.a={methods:{getContainerWidth:function(t){var e=document.querySelector(t).offsetWidth;e<1&&(e=window.innerWidth-350);var i=e/(16/9);this.width=e-this.margin.left-this.margin.right,this.height=i-this.margin.top-this.margin.bottom,this.viewBox="0 0 "+e+" "+i}}}},iLgF:function(t,e,i){t.exports=function(){return new Worker(i.p+"29789fe409937bf353c8.worker.js")}},iSB5:function(t,e,i){"use strict";var n=i("Dd8w"),r=i.n(n),s=i("NYxO"),a=i("IVWU"),o=i("aCc6");e.a={name:"ChartSANS1D",components:{"v-edit-chart-button":function(){return i.e(59).then(i.bind(null,"fmNS"))}},extends:a.a,data:function(){return{isMathJax:!1,activeParentTab:null}},created:function(){o.a.$on("redraw-chart-sans-fit",this.redrawChart),o.a.$on("revise-fit-line-sans",this.reviseFitLine)},destroyed:function(){o.a.$off("redraw-chart-sans-fit"),o.a.$off("revise-fit-line-sans")},computed:r()({},i.i(s.a)("SANS/Fit",{filesSelected:function(t){return t.filesSelected},plotScale:function(t){return t.plotScale},label:function(t){return t.label},fileToFit:function(t){return t.fileToFit},previousFit:function(t){return t.previousFit},fittedData:function(t){return t.fittedData},filteredData:function(t){return t.filteredData},fitSettings:function(t){return t.fitSettings},isFitting:function(t){return t.isFitting},fields:function(t){return t.field}}),i.i(s.b)("SANS/Fit",{chartConfigurations:"getChartConfigurations",getExtent:"getExtent",isFileFit:"isFileFit",preparedData:"getPreparedData",fitInitialValues:"fitInitialValues",fitEquation:"finalEquation"})),methods:r()({},i.i(s.d)("SANS/Fit",["toggleIsFitting"]),i.i(s.c)("SANS/Fit",["updateFitDataResults","deletePoint","resetBrushSelection","setPreviousFit"])),watch:{fileToFit:function(){this.filesSelected.length?this.activeParentTab=null===this.fileToFit?null:"tab-fit":this.activeParentTab=null}}}},jjMM:function(t,e,i){"use strict";var n=i("bOdI"),r=i.n(n),s=i("Gu7T"),a=i.n(s),o=i("d7EF"),l=i.n(o),c=i("vwbq"),h=i("QttI"),u=i.n(h),d=i("PUFd");e.a={methods:{initFitLine:function(){this.g.append("g").attr("class","fit-line").attr("clip-path","url(#clip-"+this.ID+")").append("path").attr("class","fitted-line")},updateFitLine:function(){var t=this,e=this.rescaleToZoom(),i=l()(e,2),n=i[0],r=i[1],s=c.q().defined(this.filterForLog).x(function(e){return n(e[t.fields.x])}).y(function(e){return r(e[t.fields.y])}),a=this.fittedData.filter(this.filterForLog);this.g.select(".fit-line").select("path").data([a]).attr("d",s).style("stroke","brown").style("stroke-width","2px").style("fill","none").style("stroke-dasharray","10, 5")},reviseFitLine:function(t){var e=this,n={};t.forEach(function(t){n[t.coefficient]=t.value});var s=this.filteredData.map(function(t){return t[e.fields.x]}),o=Math.min.apply(Math,a()(s)),h=Math.max.apply(Math,a()(s)),f=i.i(d.a)(o,h,100),p=[];f.forEach(function(t){n.x=t,p.push(u.a.eval(e.fitEquation,n))});var g=[];f.forEach(function(t,i){var n;g.push((n={},r()(n,e.fields.x,t),r()(n,e.fields.y,p[i]),n))});var m=this.rescaleToZoom(),x=l()(m,2),v=x[0],A=x[1],y=c.q().defined(this.filterForLog).x(function(t){return v(t[e.fields.x])}).y(function(t){return A(t[e.fields.y])});this.g.select(".fit-line").select("path").data([g]).attr("d",y).style("stroke","brown").style("stroke-width","2px").style("fill","none").style("stroke-dasharray","10, 5")}}}},k5bq:function(t,e,i){(t.exports=i("FZ+f")(!0)).push([t.i,".axis{path{shape-rendering:optimizeQuality}.tick text{font-size:14px}.tick line{shape-rendering:optimizeQuality;stroke:#000}}.grid .tick line{shape-rendering:optimizeQuality;stroke:#dcdcdc}iframe.width-changed{width:100%;display:block;border:0;height:0;margin:0}.chart{// Extra small screen(mobile) @media screen and(max-width: 599px){max-height:500px/1.77px;max-width:500px}// Small screen(tablet) @media screen and(min-width: 600px) and(max-width: 959px){max-height:800px/1.77px;max-width:800px}// Large screen(desktop) @media screen and(min-width: 1264px) and(max-width: 1903px),// Medium screen(laptop) @media screen and(min-width: 960px) and(max-width: 1263px){max-height:1000px/1.77px;max-width:1000px}// Extra large screen(ultrawide) @media screen and(min-width: 1904px){max-height:1800px/1.77px;max-width:1800px}}.MathJax_SVG{position:static!important;display:inline-block!important}foreignObject{height:100px;width:200px}.handle{fill:gray;opacity:.75}.zoom-group{.brush-container .handle{fill:none}.brushes .selection{fill:green;stroke:#000;stroke-width:1px;stroke-dasharray:3px 3px}.brushes .handle{fill:none}.brushes text{fill:#fff;text-anchor:end;letter-spacing:1px}}.group-combine .scatter-line{stroke-dasharray:4,4}","",{version:3,sources:["/home/rhf/git/plotfit-vuetify/src/assets/css/plotStyles.scss"],names:[],mappings:"AAAA,MACE,KACE,+BAAiC,CAClC,AACD,WACE,cAAgB,CACjB,AACD,WACE,gCAAiC,AACjC,WAAc,CACf,CACF,AAED,iBACE,gCAAiC,AACjC,cAAkB,CACnB,AAED,qBACE,WAAY,AACZ,cAAe,AACf,SAAU,AACV,SAAU,AACV,QAAU,CACX,AAED,OACE,kEAEE,wBAA2B,AAC3B,eAAiB,CAClB,AAAC,kFAEA,wBAA2B,AAC3B,eAAiB,CAClB,AAIC,yKAEA,yBAA4B,AAC5B,gBAAkB,CACnB,AAAC,sEAEA,yBAA4B,AAC5B,gBAAkB,CACnB,CACF,AAGD,aACE,0BAA4B,AAC5B,8BAAiC,CAClC,AAED,cACE,aAAc,AACd,WAAa,CACd,AAED,QACE,UAAW,AACX,WAAc,CACf,AAED,YACE,yBACE,SAAW,CACZ,AAED,oBACE,WAAY,AACZ,YAAc,AACd,iBAAkB,AAClB,wBAA0B,CAC3B,AAED,iBACE,SAAW,CACZ,AAED,cACE,UAAY,AACZ,gBAAiB,AACjB,kBAAoB,CACrB,CACF,AAED,6BACE,oBAAsB,CACvB",file:"plotStyles.scss",sourcesContent:[".axis {\n  path {\n    shape-rendering: optimizeQuality;\n  }\n  .tick text {\n    font-size: 14px;\n  }\n  .tick line {\n    shape-rendering: optimizeQuality;\n    stroke: black;\n  }\n}\n\n.grid .tick line {\n  shape-rendering: optimizeQuality;\n  stroke: gainsboro;\n}\n\niframe.width-changed {\n  width: 100%;\n  display: block;\n  border: 0;\n  height: 0;\n  margin: 0;\n}\n\n.chart {\n  // Extra small screen (mobile)\n  @media screen and (max-width: 599px) {\n    max-height: 500px / 1.77px;\n    max-width: 500px;\n  } // Small screen (tablet)\n  @media screen and (min-width: 600px) and (max-width: 959px) {\n    max-height: 800px / 1.77px;\n    max-width: 800px;\n  } // Medium screen (laptop)\n  @media screen and (min-width: 960px) and (max-width: 1263px) {\n    max-height: 1000px / 1.77px;\n    max-width: 1000px;\n  } // Large screen (desktop)\n  @media screen and (min-width: 1264px) and (max-width: 1903px) {\n    max-height: 1000px / 1.77px;\n    max-width: 1000px;\n  } // Extra large screen (ultrawide)\n  @media screen and (min-width: 1904px) {\n    max-height: 1800px / 1.77px;\n    max-width: 1800px;\n  }\n}\n\n/* Override MathJax positioning for rendered elements */\n.MathJax_SVG {\n  position: static !important;\n  display: inline-block !important;\n}\n\nforeignObject {\n  height: 100px;\n  width: 200px;\n}\n\n.handle {\n  fill: gray;\n  opacity: 0.75;\n}\n\n.zoom-group {\n  .brush-container .handle {\n    fill: none;\n  }\n\n  .brushes .selection {\n    fill: green;\n    stroke: black;\n    stroke-width: 1px;\n    stroke-dasharray: 3px 3px;\n  }\n\n  .brushes .handle {\n    fill: none;\n  }\n\n  .brushes text {\n    fill: white;\n    text-anchor: end;\n    letter-spacing: 1px;\n  }\n}\n\n.group-combine .scatter-line {\n  stroke-dasharray: 4,4;\n}"],sourceRoot:""}])},mClu:function(t,e,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},nLFy:function(t,e,i){"use strict";var n=i("vwbq");e.a={methods:{updateGrids:function(t,e,i){var r=n.o(t).ticks(10).tickSize(-this.height).tickFormat(""),s=n.p(e).ticks(10).tickSize(-this.width).tickFormat("");this.g.select(".grid--x").transition(i).call(r),this.g.select(".grid--y").transition(i).call(s)}}}},njkE:function(t,e,i){"use strict";var n=i("vwbq");e.a={methods:{resetChart:function(){this.g.select(".zoom").transition().duration(750).call(this.zoom.transform,n.r)}}}},"q/nh":function(t,e,i){"use strict";i("vwbq");e.a={methods:{removeChart:function(){this.svg.selectAll("*").remove()}}}},t6yi:function(t,e,i){"use strict";var n=i("vwbq");e.a=function(t,e,i){n.C("body").append("div").attr("class","plot-tooltip").style("position","absolute").style("padding","10px").style("height","auto").style("width","auto").style("background","white").style("border","1px solid black").style("z-index","9999").style("display","inline").style("left",t+"px").style("top",e-50+"px").html(i)}},twOP:function(t,e,i){"use strict";var n=i("d7EF"),r=i.n(n),s=i("vwbq"),a=i("4M6A"),o=i("bTxB"),l=i("g0At"),c=i("Qg8S"),h=i("+nQ6"),u=i("q/nh"),d=i("vUXw"),f=i("nLFy"),p=i("njkE"),g=i("boKd"),m=i("WTh+"),x=i("U3GD"),v=i("vSAJ"),A=i("yK63");e.a={mixins:[a.a,o.a,c.a,h.a,u.a,d.a,f.a,g.a,p.a,l.a,m.a,x.a,v.a,A.a],methods:{drawChart:function(){var t=this;if((0===this.filesSelected.length||this.fileToFit!==this.previousFit)&&(void 0!==this.fileToFit&&this.setPreviousFit(this.fileToFit),this.initChartElements(".fit-chart-"+this.ID),this.fileToFit)){var e=this.svg.append("g").attr("class","tooltip tooltip-"+this.ID).append("text").style("opacity",0);this.svg.append("g").attr("transform","translate("+this.margin.left+", "+this.margin.top+")").append("rect").attr("class","pick-area pick-area-"+this.ID).attr("width",this.width).attr("height",this.height).style("fill","transparent").style("stroke","blue").style("cursor","crosshair").style("visibility","hidden").on("click",function(){var e=s.E(this),i=t.rescaleToZoom(),n=r()(i,2),a=n[0],o=n[1];t.pickerPoints=[a.invert(e[0]),o.invert(e[1])],t.showPicker=!0}).on("mousemove",function(){var i=s.E(this),n=t.rescaleToZoom(),a=r()(n,2),o=a[0],l=a[1];e.style("opacity",1).attr("transform","translate("+(i[0]+75)+", "+(i[1]+30)+")").text("("+o.invert(i[0]).toFixed(2)+", "+l.invert(i[1]).toFixed(2)+")")}).on("mouseout",function(){e.style("opacity",0).text("")}),this.initSlider()}0!==this.filesSelected.length&&this.g.select(".zoom").attr("pointer-events","all"),this.updateChartElements(),this.fileToFit&&this.updateSlider()}}}},vSAJ:function(t,e,i){"use strict";e.a={methods:{addZoomGroup:function(){this.g.append("g").attr("class","zoom-group").attr("id","zoom-group-"+this.ID).append("g").attr("id","zoom--"+this.ID).append("rect").attr("class","zoom").attr("opacity",0).attr("cursor","move").attr("pointer-events","none").style("fill","none").attr("width",this.width).attr("height",this.height)}}}},vUXw:function(t,e,i){"use strict";var n=i("vwbq");e.a={methods:{updateAxes:function(t,e,i){var r=n.o(t),s=n.p(e);this.g.select(".axis--x").transition(i).call(r),this.g.select(".axis--y").transition(i).call(s)}}}},yK63:function(t,e,i){"use strict";e.a={methods:{legend:function(t){var e=this;this.g.select(".legend").remove(),this.g.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll(".label").data(t).enter().append("g").attr("class","label").attr("transform",function(t,e){return"translate(0, "+20*(e+1)+")"}),this.g.selectAll(".label").append("rect").attr("x",this.width-30).attr("height",15).attr("width",15).style("fill",function(t){return"combine"===t.key||"stitch"===t.key||"fit"===t.key||void 0===t.key?"brown":e.colorScale(t.key)}),this.g.selectAll(".label").append("text").attr("x",this.width-40).attr("y",10).attr("class","label").text(function(t){return t.key})}}}}});