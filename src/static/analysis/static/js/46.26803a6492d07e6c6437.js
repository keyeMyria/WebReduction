webpackJsonp([46],{E9Pt:function(t,i,e){"use strict";var r=e("Dd8w"),n=e.n(r),a=e("NYxO"),s=e("Jc75");i.a={name:"FitResultsSANS1D",extends:s.a,computed:n()({},e.i(a.a)("SANS/Fit",{fileToFit:function(t){return t.fileToFit},fitType:function(t){return t.fitType},filteredData:function(t){return t.filteredData},fitError:function(t){return t.fitError},fitSettings:function(t){return t.fitSettings},fitNote:function(t){return t.fitNote},xBrushSelection:function(t){return t.brushSelection[1]},fitScores:function(t){return t.fitScores},fields:function(t){return t.field}}),e.i(a.b)("SANS/Fit",{fitInitialValues:"fitInitialValues",fitEquation:"finalEquation"}))}},Jc75:function(t,i,e){"use strict";var r=e("S+2Z"),n=e("X9os");var a=function(t){e("aqVV")},s=e("VU/8")(r.a,n.a,!1,a,"data-v-80c965a4",null);i.a=s.exports},"S+2Z":function(t,i,e){"use strict";var r=e("Gu7T"),n=e.n(r),a=e("vwbq"),s=e("dOvQ"),o=e("b56K");i.a={name:"FitResultsTable",mixins:[s.a,o.a],props:{xScale:{type:Function},allowExport:{type:Boolean,default:!0}},filters:{formatValue:function(t){return null!==t?t.toFixed(3):t}},computed:{fitCount:function(){return this.filteredData.length},fitRange:function(){var t=this;return 0===this.fitCount?[0,0]:a.c(this.filteredData,function(i){return i[t.fields.x]}).map(function(t){return t.toExponential(2)})},formattedFitError:function(){return this.fitError?"Not Available":this.fitError.toExponential(2)},damping:function(){return this.fitSettings.damping},maxIterations:function(){return this.fitSettings.maxIterations},errorTolerance:function(){return this.fitSettings.errorTolerance},gradientDifference:function(){return this.fitSettings.gradientDifference}},methods:{formatInitialValues:function(t){if("Guinier"===this.fitType&&"Rg"===t.coefficient){var i=t.value*Math.sqrt(this.xScale.invert(this.xBrushSelection));return t.coefficient+": "+t.value+" | Rg * x_max = "+i.toFixed(4)}return t.coefficient+": "+t.value},downloadFitEquation:function(){var t=["fit type","no. points","range start","range end","fit error","R","R2","RMSD","CHI2","equation"];this.fitInitialValues.forEach(function(i){return t.push(i.coefficient)});var i=[[this.fitType,this.fitCount].concat(n()(this.fitRange),[this.fitError,this.fitScores.r,this.fitScores.r2,this.fitScores.rmsd,this.fitScores.chi2,this.fitEquation],n()(this.fitInitialValues.map(function(t){return t.value})))],e=this.fileToFit+"_fit_results.csv"||"fit_results.csv";this.downloadCSV(i,t,e)}}}},WKYF:function(t,i,e){(t.exports=e("FZ+f")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FitResultsTable.vue",sourceRoot:""}])},X9os:function(t,i,e){"use strict";var r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-container",{attrs:{"pt-0":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[t.allowExport?e("v-flex",{attrs:{xs12:""}},[e("v-tooltip",{attrs:{top:"","close-delay":1}},[e("v-btn",{attrs:{slot:"activator",outline:"",small:"",color:"success"},on:{click:t.downloadFitEquation},slot:"activator"},[e("v-icon",{attrs:{left:!t.isBreakpointSmall}},[t._v("file_download")]),t._v(" "),e("span",{staticClass:"hidden-md-and-down"},[t._v("Export CSV")])],1),t._v(" "),e("span",[t._v("Click to export fit results to .csv file")])],1)],1):t._e(),t._v(" "),e("v-flex",{attrs:{md12:"",lg3:"","pa-1":""}},[e("b",[t._v("Fit File:")]),t._v(" "+t._s(t.fileToFit))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg2:"","pa-1":""}},[e("b",[t._v("Fit Type:")]),t._v(" "+t._s(t.fitType))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg2:"","pa-1":""}},[e("b",[t._v("No. Points:")]),t._v(" "+t._s(t.fitCount))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg3:"","pa-1":""}},[e("b",[t._v("Fit Range:")]),t._v(" ("+t._s(t.fitRange[0])+", "+t._s(t.fitRange[1])+")")]),t._v(" "),e("v-flex",{attrs:{md12:"",lg2:"","pa-1":""}},[e("b",[t._v("Fit Error:")]),t._v(" "+t._s(t._f("formatValue")(t.fitError)))]),t._v(" "),e("v-flex",{attrs:{xs12:"","mb-1":""}},[e("v-divider")],1),t._v(" "),t.fitScores?e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md12:"",lg1:"","pa-1":""}},[e("b",[t._v("Fit Scores:")])]),t._v(" "),e("v-flex",{attrs:{md12:"",lg2:"","pa-1":""}},[e("b",[t._v("R:")]),t._v(" "+t._s(t._f("formatValue")(t.fitScores.r)))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg3:"","pa-1":""}},[e("b",[t._v("R^2:")]),t._v(" "+t._s(t._f("formatValue")(t.fitScores.r2)))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg3:"","pa-1":""}},[e("b",[t._v("RMSD:")]),t._v(" "+t._s(t._f("formatValue")(t.fitScores.rmsd)))]),t._v(" "),e("v-flex",{attrs:{md12:"",lg3:"","pa-1":""}},[e("b",[t._v("Chi^2:")]),t._v(" "+t._s(t._f("formatValue")(t.fitScores.chi2)))])],1):t._e(),t._v(" "),e("v-flex",{attrs:{xs12:"","mb-1":""}},[e("v-divider")],1),t._v(" "),e("v-flex",{attrs:{xs12:"","pa-1":""}},[e("b",[t._v("Fit Equation:")]),t._v(" "),e("i",[t._v(t._s(t.fitEquation))])]),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-divider")],1),t._v(" "),e("v-flex",{attrs:{sm12:"",md4:"","pa-1":""}},[e("b",[t._v("Fit Configuration:")]),t._v(" "),e("p",{staticClass:"pl-3 mb-1"},[t._v("Damping: "+t._s(t.damping))]),t._v(" "),e("p",{staticClass:"pl-3 mb-1"},[t._v("No. Iterations: "+t._s(t.maxIterations))]),t._v(" "),e("p",{staticClass:"pl-3 mb-1"},[t._v("Error Tolerance: "+t._s(t.errorTolerance))]),t._v(" "),e("p",{staticClass:"pl-3 mb-1"},[t._v("Gradient Difference: "+t._s(t.gradientDifference))])]),t._v(" "),e("v-flex",{attrs:{sm12:"",md4:"","pa-1":""}},[e("b",[t._v("Coefficients:")]),t._v(" "),t._l(t.fitInitialValues,function(i,r){return e("p",{key:r,staticClass:"pl-3 mb-1"},[t._v("\n          "+t._s(t.formatInitialValues(i))+"\n        ")])})],2),t._v(" "),e("v-flex",{attrs:{sm12:"",md4:"","pa-1":""}},[e("b",[t._v("Note:")]),t._v(" "+t._s(t.fitNote))]),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-divider")],1)],1)],1)},staticRenderFns:[]};i.a=r},aqVV:function(t,i,e){var r=e("WKYF");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e("rjj0")("acfef282",r,!0,{})},caY9:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("E9Pt"),n=e("VU/8")(r.a,null,!1,null,null,null);i.default=n.exports},dOvQ:function(t,i,e){"use strict";var r=e("aCc6"),n=e("qJ6c");i.a={methods:{convertArrayOfObjectsToCSV:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1],e=arguments[2];if(null===t||!t.length)return null;var r=i.join(e);return r+="\n",t.forEach(function(t){r+=t.join(e)+"\n"}),r},downloadCSV:function(t,i,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",o=this.convertArrayOfObjectsToCSV(t,i,s);null!==o?(o.match(/^data:text\/csv/i)||(o="data:text/csv;charset=utf-8,"+o),e.i(n.a)(o,a)):r.a.$emit("add-notification","No data to save","error")}}}},qJ6c:function(t,i,e){"use strict";i.a=function(t,i){var e=encodeURI(t),r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",i),r.click()}}});