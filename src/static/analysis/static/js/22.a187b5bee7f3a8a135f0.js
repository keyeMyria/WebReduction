webpackJsonp([22],{"5nfZ":function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ExportChartButton.vue",sourceRoot:""}])},"7i/Z":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Lb3s"),o=n("uxMz");var a=function(t){n("QI3t")},i=n("VU/8")(r.a,o.a,!1,a,"data-v-4ee6f114",null);e.default=i.exports},LGuY:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},Lb3s:function(t,e,n){"use strict";var r=n("vwbq"),o=n("lDdF"),a=(n.n(o),n("b56K"));e.a={name:"ExportChartButton",mixins:[a.a],props:{disable:{type:Boolean,default:!1},ID:{type:String,required:!0},selection:{type:String,required:!0}},methods:{getSVG:function(){return r.q(this.selection)},save:function(t){var e=new Date,r=this.ID+"_chart_"+(e.getMonth()+1)+"_"+e.getDate()+"_"+e.getFullYear();n.i(o.saveAs)(t,r)},savePlot:function(){var t=this.getSVG(),e=this.getSVGString(t.node());this.svgString2Image(e,960,500,"png",this.save)},getSVGString:function(t){t.setAttribute("xlink","http://www.w3.org/1999/xlink");var e=this.getCSSStyles(t);this.appendCSS(e,t);var n=(new XMLSerializer).serializeToString(t);return n=(n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink=")).replace(/NS\d+:href/g,"xlink:href")},svgString2Image:function(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=arguments[4],o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t))),a=document.createElement("canvas"),i=a.getContext("2d");a.width=e,a.height=n;var s=new Image;s.onload=function(){i.clearRect(0,0,e,n),i.drawImage(s,0,0,e,n),a.toBlob(function(t){var e=Math.round(t.length/1024)+" KB";r&&r(t,e)})},s.src=o},getCSSStyles:function(t){var e=[];e.push("'#"+t.id);for(var n=0;n<t.classList.length;n+=1)this.contains("."+t.classList[n],e)||e.push("."+t.classList[n]);for(var r=t.getElementsByTagName("*"),o=0;o<r.length;o+=1){var a=r[o].id;this.contains("#"+a,e)||e.push("#"+a);for(var i=r[o].classList,s=0;s<i.length;s+=1)this.contains("."+i[s],e)||e.push("."+i[s])}for(var c="",l=0;l<document.styleSheets.length;l+=1){var u=document.styleSheets[l];try{if(!u.cssRules)continue}catch(t){if("SecurityError"!==t.name)throw t;continue}for(var d=u.cssRules,f=0;f<d.length;f+=1)this.contains(d[f].selectorText,e)&&(c+=d[f].cssText)}return c},appendCSS:function(t,e){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;var r=e.hasChildNodes()?e.children[0]:null;e.insertBefore(n,r)},contains:function(t,e){return-1===e.indexOf(t)}}}},QI3t:function(t,e,n){var r=n("5nfZ");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("40a22f61",r,!0,{})},lDdF:function(t,e,n){var r,o=o||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(l,u,d){d||(l=c(l));var f,p=this,v="application/octet-stream"===l.type,h=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){i(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return f=e().createObjectURL(l),void setTimeout(function(){var t,e;n.href=f,n.download=u,t=n,e=new MouseEvent("click"),t.dispatchEvent(e),h(),s(f),p.readyState=p.DONE});!function(){if((a||v&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,h()},n.readAsDataURL(l),void(p.readyState=p.INIT)}f||(f=e().createObjectURL(l)),v?t.location.href=f:t.open(f,"_blank")||(t.location.href=f);p.readyState=p.DONE,h(),s(f)}()},u=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,n){return new l(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=o:null!==n("LGuY")&&null!==n("nErl")&&(void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r))},nErl:function(t,e){(function(e){t.exports=e}).call(e,{})},uxMz:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:"","close-delay":1,disabled:t.disable}},[n("v-btn",{attrs:{slot:"activator",flat:"",small:"",disabled:t.disable,icon:t.isBreakpointSmall},on:{click:t.savePlot},slot:"activator"},[n("span",{staticClass:"hidden-md-and-down"},[t._v("Export Plot")]),t._v(" "),n("v-icon",{attrs:{right:!t.isBreakpointSmall}},[t._v("fa-floppy-o")])],1),t._v(" "),n("span",[t._v("Click to export plot to .png")])],1)},staticRenderFns:[]};e.a=r}});