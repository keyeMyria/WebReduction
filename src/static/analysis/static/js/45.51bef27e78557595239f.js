webpackJsonp([45],{"/2gW":function(t,e,a){"use strict";e.a={methods:{validateFileName:function(t){return/^[^\\/:\*\?'<>\|  .]+$/.test(t)?/^[0-9]/.test(t)?"Do not start files with a number.":/^(nul|prn|con|lpt[0-9]|com[0-9])(\.|$)/i.test(t)?"Invalid file name.":!!/^[A-Za-z].*$/.test(t)||"Start file names with a character.":"Invalid filename."}}}},"3Fls":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("rQYQ");var s=function(t){a("iGwK")},n=a("VU/8")(i.a,null,!1,s,"data-v-5e0ec894",null);e.default=n.exports},"FQ+v":function(t,e,a){"use strict";var i=a("Nuof"),s=a("LBzU");var n=function(t){a("oIeJ")},o=a("VU/8")(i.a,s.a,!1,n,"data-v-6b84ed84",null);e.a=o.exports},LBzU:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tooltip",{attrs:{top:"","close-delay":1,disabled:!t.stitchedData.length}},[a("v-dialog",{attrs:{slot:"activator",persistent:"","max-width":"50%"},slot:"activator",model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-btn",{attrs:{slot:"activator",flat:"",disabled:!t.stitchedData.length},slot:"activator"},[t.isBreakpointSmall?a("v-icon",{attrs:{left:""}},[t._v("fa-floppy-o")]):t._e(),t._v(" "),a("span",[t._v("Store Stitch")]),t._v(" "),t.isBreakpointSmall?t._e():a("v-icon",{attrs:{right:""}},[t._v("fa-floppy-o")])],1),t._v(" "),a("v-card",[a("v-card-title",{staticClass:"green white--text"},[a("div",{staticClass:"headline"},[t._v("Save stitched line?")])]),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault(),t.submit(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{staticClass:"mb-3",attrs:{label:"File Name",placeholder:"e.g. file_name",rules:t.nameRules,required:"",suffix:"_IQ.txt"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-layout",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",outline:"",flat:""},on:{click:t.close}},[t._v("cancel")]),t._v(" "),a("v-btn",{attrs:{disabled:!t.valid,outline:"",flat:"",color:"success"},on:{click:t.submit}},[t._v("\n              submit\n            ")])],1)],1)],1)],1)],1),t._v(" "),a("span",[t._v("Click to store stitched curve")])],1)},staticRenderFns:[]};e.a=i},Nuof:function(t,e,a){"use strict";var i=a("mtWM"),s=a.n(i),n=a("b56K"),o=a("aCc6"),c=a("/2gW");e.a={name:"SaveStitchButton",mixins:[n.a,c.a],data:function(){return{show:!1,valid:!0,name:"",nameRules:[function(t){return!!t||"Name is required"},this.validateFileName,this.checkForbiddenName]}},methods:{close:function(){this.name="",this.valid=!0,this.show=!1},submit:function(){this.$refs.form.validate()&&(this.saveStitchLine(this.name+"_IQ.txt"),this.close())},checkForbiddenName:function(t){return"stitch"!==t||"Stitch is a reserved word. Give file another name."},saveStitchLine:function(t){var e=this;s.a.post("/external/save",{method:"post",data:{id:t,content:e.stitchedData},headers:{"Content-Disposition":"attachment; filename="+t}}).then(function(t){200===t.status&&o.a.$emit("add-notification","Save succesful!","success"),e.saveBrushSelections(),e.saveBrushes(),o.a.$emit("fetch-files",!0)}).catch(function(t){var e=t;o.a.$emit("add-notification",e,"error")})}}}},RaGY:function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SaveStitchButton.vue",sourceRoot:""}])},iGwK:function(t,e,a){var i=a("o1An");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("2b1a1f6f",i,!0,{})},o1An:function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SaveStitchSANS.vue",sourceRoot:""}])},oIeJ:function(t,e,a){var i=a("RaGY");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("7c145fe1",i,!0,{})},rQYQ:function(t,e,a){"use strict";var i=a("Dd8w"),s=a.n(i),n=a("NYxO"),o=a("FQ+v");e.a={name:"SaveStitchButtonSANS",extends:o.a,computed:s()({},a.i(n.a)("SANS/Stitch",{stitchedData:function(t){return t.stitchedData}})),methods:s()({},a.i(n.d)("SANS/Stitch",["saveBrushes","saveBrushSelections"]))}}});